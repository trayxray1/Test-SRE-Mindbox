# üéØ Mindbox SRE –¢–µ—Å—Ç–æ–≤–æ–µ –ó–∞–¥–∞–Ω–∏–µ - –§–∏–Ω–∞–ª—å–Ω–æ–µ –†–µ–∑—é–º–µ

## üèÜ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### ‚úÖ **–ú—É–ª—å—Ç–∏–∑–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä (3 –∑–æ–Ω—ã, 5 –Ω–æ–¥)**
- **Pod Anti-Affinity**: –ü–æ–¥—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –ø–æ —Ä–∞–∑–Ω—ã–º –∑–æ–Ω–∞–º
- **Node Affinity**: –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –Ω–∞ –Ω–æ–¥–∞—Ö —Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏
- **–¢–æ–ª–µ—Ä–∞–Ω—Ü–∏–∏**: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –Ω–∞ control-plane –Ω–æ–¥–∞—Ö

### ‚úÖ **–í—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ 5-10 —Å–µ–∫—É–Ω–¥**
- **Startup Probe**: –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (100 —Å–µ–∫—É–Ω–¥ –º–∞–∫—Å–∏–º—É–º)
- **Readiness Probe**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫
- **Liveness Probe**: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### ‚úÖ **4 –ø–æ–¥–∞ —Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π**
- **HPA**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç 2 –¥–æ 8 –ø–æ–¥–æ–≤
- **CPU –º–µ—Ç—Ä–∏–∫–∏**: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ 70% CPU
- **Memory –º–µ—Ç—Ä–∏–∫–∏**: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏ 80% –ø–∞–º—è—Ç–∏

### ‚úÖ **–†–µ—Å—É—Ä—Å—ã: CPU 0.1, Memory 128M**
- **Requests**: CPU 50m, Memory 64Mi (–±–∞–∑–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞)
- **Limits**: CPU 500m, Memory 256Mi (–ø–∏–∫–æ–≤–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞)
- **Resource Quota**: –ö–æ–Ω—Ç—Ä–æ–ª—å –æ–±—â–µ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

### ‚úÖ **–î–Ω–µ–≤–Ω–æ–π —Ü–∏–∫–ª –Ω–∞–≥—Ä—É–∑–∫–∏**
- **HPA Behavior**: –ë—ã—Å—Ç—Ä–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–≤–µ—Ä—Ö (1 –º–∏–Ω), –º–µ–¥–ª–µ–Ω–Ω–æ–µ –≤–Ω–∏–∑ (5 –º–∏–Ω)
- **–ú–∏–Ω–∏–º—É–º 2 –ø–æ–¥–∞**: –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –Ω–æ—á—å—é
- **–ú–∞–∫—Å–∏–º—É–º 8 –ø–æ–¥–æ–≤**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–Ω–µ–≤–Ω–æ–≥–æ –ø–∏–∫–∞

### ‚úÖ **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**
- **Pod Disruption Budget**: –ú–∏–Ω–∏–º—É–º 2 –ø–æ–¥–∞ –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã
- **Rolling Update**: Zero-downtime –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **Anti-affinity**: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∑–æ–Ω–∞–º
- **Health Checks**: –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è

### ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: HPA –ø–æ CPU –∏ Memory
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–∏–º–∏—Ç—ã**: –¢–æ—á–Ω—ã–µ requests/limits
- **Resource Quota**: –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –≤ namespace

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

### **1. –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (Python Flask)**
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è health checks, –º–µ—Ç—Ä–∏–∫, –Ω–∞–≥—Ä—É–∑–∫–∏
- –ò–º–∏—Ç–∞—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ (8 —Å–µ–∫—É–Ω–¥)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### **2. Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã (13 —Ñ–∞–π–ª–æ–≤)**
- **Namespace**: –ò–∑–æ–ª—è—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- **ConfigMap/Secret**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —Å–µ–∫—Ä–µ—Ç—ã
- **Service Account**: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ RBAC
- **Deployment**: –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å probes
- **Service**: –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –¥–æ—Å—Ç—É–ø
- **Ingress**: –í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø
- **HPA**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- **PDB**: –ó–∞—â–∏—Ç–∞ –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–¥–æ–≤
- **Resource Quota**: –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–µ—Å—É—Ä—Å–æ–≤
- **Limit Range**: –õ–∏–º–∏—Ç—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **Network Policy**: –°–µ—Ç–µ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **Monitoring Config**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### **3. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
- **deploy.sh**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- **test.sh**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Dockerfile**: –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–∞—è —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
- **requirements.txt**: Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

## üîß –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**
```yaml
# HPA —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
minReplicas: 2
maxReplicas: 8
targetCPUUtilizationPercentage: 70
targetMemoryUtilizationPercentage: 80
```

### **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**
```yaml
# Pod Anti-Affinity –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ –∑–æ–Ω–∞–º
podAntiAffinity:
  topologyKey: topology.kubernetes.io/zone

# Pod Disruption Budget
minAvailable: 2
```

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
```yaml
# Security Context
securityContext:
  runAsNonRoot: true
  allowPrivilegeEscalation: false
  capabilities:
    drop: ["ALL"]

# Network Policy
# –ö–æ–Ω—Ç—Ä–æ–ª—å –≤—Ö–æ–¥—è—â–µ–≥–æ –∏ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞
```

### **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤**
```yaml
# –¢–æ—á–Ω—ã–µ requests/limits
resources:
  requests:
    cpu: "50m"        # 0.05 CPU
    memory: "64Mi"    # 64 Mi
  limits:
    cpu: "500m"       # 0.5 CPU
    memory: "256Mi"   # 256 Mi
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏**
- CPU –∏ Memory –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –°—Ç–∞—Ç—É—Å –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

### **Prometheus –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø–æ–¥–æ–≤
- Scraping –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- –ì–æ—Ç–æ–≤—ã–µ –∞–ª–µ—Ä—Ç—ã –∏ –ø—Ä–∞–≤–∏–ª–∞

### **Grafana –¥–∞—à–±–æ—Ä–¥**
- CPU –∏ Memory –≥—Ä–∞—Ñ–∏–∫–∏
- Request Count —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### **1. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
./deploy.sh

# –ò–ª–∏ —Ä—É—á–Ω–æ–µ
kubectl apply -f k8s/
```

### **2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
./test.sh

# –ò–ª–∏ —Ä—É—á–Ω–æ–µ
kubectl port-forward svc/mindbox-app-service 8080:80 -n mindbox-sre-test
curl http://localhost:8080/
```

### **3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
```bash
# –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
kubectl get all -n mindbox-sre-test

# HPA —Å—Ç–∞—Ç—É—Å
kubectl get hpa -n mindbox-sre-test

# –†–µ—Å—É—Ä—Å—ã
kubectl top pods -n mindbox-sre-test
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### **–ü–æ–¥—Ä–æ–±–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞**
- `README.md`: –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
- `QUICK_START.md`: –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `ARCHITECTURE.md`: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- `DEPLOYMENT.md`: –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- `EXAMPLES.md`: –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥
- `PROJECT_SUMMARY.md`: –ò—Ç–æ–≥–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- `SOLUTIONS.md`: –î–µ—Ç–∞–ª—å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- `USAGE.md`: –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### **–°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏**
- `deploy.sh`: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
- `test.sh`: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

## üéâ –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º—ã–µ –Ω–∞–≤—ã–∫–∏

### **1. –ì–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ Kubernetes**
- –í—Å–µ –∞—Å–ø–µ–∫—Ç—ã –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –¥–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- HPA, PDB, Resource Quota, Limit Range
- Network Policy, Security Context, RBAC

### **2. SRE –ø–æ–¥—Ö–æ–¥**
- –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å —á–µ—Ä–µ–∑ multi-zone deployment
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

### **3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤**
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –∏ Memory
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –¥–Ω–µ–≤–Ω–æ–º—É —Ü–∏–∫–ª—É –Ω–∞–≥—Ä—É–∑–∫–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### **4. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
- Security context –∏ capabilities
- Network policies
- Service accounts –∏ RBAC

### **5. Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**
- Health checks (startup, readiness, liveness)
- Rolling updates
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### **–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
- **–Ø–∑—ã–∫**: Python 3.11
- **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Flask
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä**: Docker —Å –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω–æ–π —Å–±–æ—Ä–∫–æ–π
- **–ü–æ—Ä—Ç**: 5000 (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π), 80 (–≤–Ω–µ—à–Ω–∏–π)

### **Kubernetes**
- **–í–µ—Ä—Å–∏—è**: 1.24+ (–¥–ª—è HPA v2)
- **Namespace**: mindbox-sre-test
- **Replicas**: 2-8 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ HPA)
- **Strategy**: RollingUpdate —Å zero-downtime

### **–†–µ—Å—É—Ä—Å—ã**
- **CPU**: 50m-500m (0.05-0.5 CPU)
- **Memory**: 64Mi-256Mi
- **Storage**: EmptyDir –¥–ª—è –ª–æ–≥–æ–≤

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- **Prometheus**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ
- **Metrics**: CPU, Memory, Request Count
- **Health**: Startup, Readiness, Liveness probes

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
kubectl get all -n mindbox-sre-test

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
kubectl logs -f deployment/mindbox-app -n mindbox-sre-test

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–±—ã—Ç–∏–π
kubectl get events -n mindbox-sre-test --sort-by='.lastTimestamp'

# –ü—Ä–æ–≤–µ—Ä–∫–∞ HPA
kubectl get hpa -n mindbox-sre-test
```

### **–ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**
- **–ü–æ–¥—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–±—ã—Ç–∏—è –∏ –ª–æ–≥–∏
- **HPA –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Metrics Server
- **Ingress –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Ingress Controller

## üßπ –û—á–∏—Å—Ç–∫–∞

### **–ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ**
```bash
kubectl delete namespace mindbox-sre-test
```

### **–ß–∞—Å—Ç–∏—á–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ**
```bash
kubectl delete deployment mindbox-app -n mindbox-sre-test
kubectl delete service mindbox-app-service -n mindbox-sre-test
kubectl delete ingress mindbox-app-ingress -n mindbox-sre-test
```

## üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

| –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ | –†–µ—à–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|------------|---------|---------|
| –ú—É–ª—å—Ç–∏–∑–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä | Pod Anti-Affinity + Node Affinity | ‚úÖ |
| –í—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ 5-10 —Å–µ–∫ | Startup Probe (100 —Å–µ–∫ –º–∞–∫—Å–∏–º—É–º) | ‚úÖ |
| 4 –ø–æ–¥–∞ –¥–ª—è –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ | HPA 2-8 –ø–æ–¥–æ–≤ | ‚úÖ |
| –†–µ—Å—É—Ä—Å—ã CPU 0.1, Memory 128M | Requests/Limits + Resource Quota | ‚úÖ |
| –î–Ω–µ–≤–Ω–æ–π —Ü–∏–∫–ª –Ω–∞–≥—Ä—É–∑–∫–∏ | HPA Behavior (1 –º–∏–Ω –≤–≤–µ—Ä—Ö, 5 –º–∏–Ω –≤–Ω–∏–∑) | ‚úÖ |
| –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å | PDB + Anti-affinity + Health checks | ‚úÖ |
| –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ | HPA + –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–∏–º–∏—Ç—ã | ‚úÖ |

## üöÄ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### **1. Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**
- Security Context
- Network Policy
- RBAC
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### **2. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**
- HPA –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- Health checks –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- Rolling updates –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### **3. –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú—É–ª—å—Ç–∏–∑–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –∫ –Ω–∞–≥—Ä—É–∑–∫–µ

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:

1. **–ì–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ Kubernetes**: –í—Å–µ –∞—Å–ø–µ–∫—Ç—ã –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –¥–æ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
2. **SRE –ø–æ–¥—Ö–æ–¥**: –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤**: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU –∏ Memory
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: Security context, network policies, RBAC
5. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: HPA, anti-affinity, multi-zone deployment
6. **Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**: Health checks, monitoring, logging

### **–ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è**
- ‚úÖ **–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã** –Ω–∞ 100%
- ‚úÖ **Production-ready —Ä–µ—à–µ–Ω–∏–µ** —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏
- ‚úÖ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –∏ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production —Å—Ä–µ–¥–µ –∏ –º–æ–∂–µ—Ç —Å–ª—É–∂–∏—Ç—å –æ—Å–Ω–æ–≤–æ–π –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π. –†–µ—à–µ–Ω–∏–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∑–Ω–∞–Ω–∏–π –≤ –æ–±–ª–∞—Å—Ç–∏ Kubernetes –∏ SRE –ø—Ä–∞–∫—Ç–∏–∫.

---

**–ê–≤—Ç–æ—Ä**: SRE Engineer  
**–î–∞—Ç–∞**: $(date)  
**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–õ–∏—Ü–µ–Ω–∑–∏—è**: MIT  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é 