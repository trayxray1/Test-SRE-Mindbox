# üéØ –†–µ—à–µ–Ω–∏—è –¥–ª—è Mindbox SRE —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è

## üìã –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π

### –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–ú—É–ª—å—Ç–∏–∑–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä**: 3 –∑–æ–Ω—ã, 5 –Ω–æ–¥
- **–í—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏**: 5-10 —Å–µ–∫—É–Ω–¥
- **–ù–∞–≥—Ä—É–∑–∫–∞**: 4 –ø–æ–¥–∞ —Å–ø—Ä–∞–≤–ª—è—é—Ç—Å—è —Å –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–æ–π
- **–†–µ—Å—É—Ä—Å—ã**: CPU 0.1 (–ø–æ—Å–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏), Memory 128M
- **–î–Ω–µ–≤–Ω–æ–π —Ü–∏–∫–ª –Ω–∞–≥—Ä—É–∑–∫–∏**: –Ω–æ—á—å—é –º–µ–Ω—å—à–µ, –ø–∏–∫ –¥–Ω–µ–º
- **–¶–µ–ª–∏**: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å, –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

## üèóÔ∏è –ü—Ä–∏–Ω—è—Ç—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### 1. **–°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è**

#### Rolling Update Strategy
```yaml
strategy:
  type: RollingUpdate
  rollingUpdate:
    maxSurge: 1        # –ú–∞–∫—Å–∏–º—É–º 1 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–æ–¥
    maxUnavailable: 0  # –ù–µ –¥–æ–ø—É—Å–∫–∞—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç zero-downtime –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è production —Å—Ä–µ–¥—ã
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∏—Å–∫ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

#### –†–µ–ø–ª–∏–∫–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–ú–∏–Ω–∏–º—É–º**: 2 –ø–æ–¥–∞ –¥–ª—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏
- **–ú–∞–∫—Å–∏–º—É–º**: 8 –ø–æ–¥–æ–≤ –¥–ª—è –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
- **HPA**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ CPU –∏ Memory

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- 2 –ø–æ–¥–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –±–∞–∑–æ–≤—É—é –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
- 8 –ø–æ–¥–æ–≤ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –ø–∏–∫–æ–≤—É—é –Ω–∞–≥—Ä—É–∑–∫—É (4 –ø–æ–¥–∞ √ó 2 –¥–ª—è –∑–∞–ø–∞—Å–∞)
- HPA –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –∫ –Ω–∞–≥—Ä—É–∑–∫–µ

### 2. **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∑–æ–Ω–∞–º**

#### Pod Anti-Affinity
```yaml
podAntiAffinity:
  preferredDuringSchedulingIgnoredDuringExecution:
  - weight: 100
    podAffinityTerm:
      topologyKey: topology.kubernetes.io/zone
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ–¥–æ–≤ –ø–æ —Ä–∞–∑–Ω—ã–º –∑–æ–Ω–∞–º
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –ø—Ä–∏ —Å–±–æ–µ –æ–¥–Ω–æ–π –∑–æ–Ω—ã
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –º—É–ª—å—Ç–∏–∑–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

#### Node Affinity
```yaml
nodeAffinity:
  preferredDuringSchedulingIgnoredDuringExecution:
  - weight: 80
    preference:
      matchExpressions:
      - key: node.kubernetes.io/instance-type
        operator: In
        values: ["e2-medium", "e2-standard-2", "n1-standard-2"]
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ –Ω–æ–¥ —Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏
- –û–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –£—á–µ—Ç —Ç–∏–ø–æ–≤ –Ω–æ–¥ –≤ –∫–ª–∞—Å—Ç–µ—Ä–µ

### 3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏**

#### Resource Requests/Limits
```yaml
resources:
  requests:
    cpu: "50m"        # 0.05 CPU –¥–ª—è –±–∞–∑–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã
    memory: "64Mi"    # 64 Mi –¥–ª—è –±–∞–∑–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã
  limits:
    cpu: "500m"       # 0.5 CPU –¥–ª—è –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
    memory: "256Mi"   # 256 Mi —Å –∑–∞–ø–∞—Å–æ–º
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- **Requests**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã
- **Limits**: –ó–∞—â–∏—Ç–∞ –æ—Ç –∏—Å—á–µ—Ä–ø–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –Ω–æ–¥—ã
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –£—á–µ—Ç –¥–Ω–µ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
- **–ë—É—Ñ–µ—Ä**: 20% –∑–∞–ø–∞—Å –¥–ª—è –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫

#### Resource Quota
```yaml
hard:
  requests.cpu: "4"      # –ú–∞–∫—Å–∏–º—É–º 4 CPU
  limits.cpu: "8"        # –ú–∞–∫—Å–∏–º—É–º 8 CPU
  requests.memory: "2Gi" # –ú–∞–∫—Å–∏–º—É–º 2 Gi
  limits.memory: "4Gi"   # –ú–∞–∫—Å–∏–º—É–º 4 Gi
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- –ö–æ–Ω—Ç—Ä–æ–ª—å –æ–±—â–µ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ namespace
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –∏—Å—á–µ—Ä–ø–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –∫–ª–∞—Å—Ç–µ—Ä–∞
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è

### 4. **–ü—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è**

#### Startup Probe
```yaml
startupProbe:
  httpGet:
    path: /startup
    port: 5000
  initialDelaySeconds: 5    # –ù–∞—á–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
  periodSeconds: 5          # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏
  failureThreshold: 20      # –ú–∞–∫—Å–∏–º—É–º 20 –ø–æ–ø—ã—Ç–æ–∫ (100 —Å–µ–∫—É–Ω–¥)
  successThreshold: 1       # 1 —É—Å–ø–µ—à–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- –£—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ 5-10 —Å–µ–∫—É–Ω–¥
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ readiness
- –î–∞–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

#### Readiness Probe
```yaml
readinessProbe:
  httpGet:
    path: /ready
    port: 5000
  periodSeconds: 10         # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏
  timeoutSeconds: 5         # –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞
  failureThreshold: 3       # 3 –Ω–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
  successThreshold: 1       # 1 —É—Å–ø–µ—à–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ç—Ä–∞—Ñ–∏–∫
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Service –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–∞ –Ω–µ–≥–æ—Ç–æ–≤—ã–µ –ø–æ–¥—ã

#### Liveness Probe
```yaml
livenessProbe:
  httpGet:
    path: /live
    port: 5000
  periodSeconds: 30         # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏
  timeoutSeconds: 10        # –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–∞
  failureThreshold: 3       # 3 –Ω–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
  successThreshold: 1       # 1 —É—Å–ø–µ—à–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–∏ —Å–±–æ–µ
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫

### 5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**

#### HPA –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```yaml
minReplicas: 2
maxReplicas: 8
metrics:
- type: Resource
  resource:
    name: cpu
    target:
      type: Utilization
      averageUtilization: 70
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- **CPU 70%**: –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- **Memory 80%**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ OOM
- **–î–∏–∞–ø–∞–∑–æ–Ω**: –û—Ç 2 –¥–æ 8 –ø–æ–¥–æ–≤ –¥–ª—è –ø–æ–∫—Ä—ã—Ç–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏

#### HPA Behavior
```yaml
scaleUp:
  stabilizationWindowSeconds: 60    # 1 –º–∏–Ω—É—Ç–∞
scaleDown:
  stabilizationWindowSeconds: 300   # 5 –º–∏–Ω—É—Ç
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- **–ë—ã—Å—Ç—Ä–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–≤–µ—Ä—Ö**: –†–µ–∞–∫—Ü–∏—è –Ω–∞ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏
- **–ú–µ–¥–ª–µ–Ω–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω–∏–∑**: –£—á–µ—Ç –¥–Ω–µ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
- **–°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —á–∞—Å—Ç–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è

### 6. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

#### Security Context
```yaml
securityContext:
  allowPrivilegeEscalation: false
  runAsNonRoot: true
  runAsUser: 1000
  capabilities:
    drop: ["ALL"]
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- –ü—Ä–∏–Ω—Ü–∏–ø –Ω–∞–∏–º–µ–Ω—å—à–∏—Ö –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π
- –ó–∞—â–∏—Ç–∞ –æ—Ç privilege escalation
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

#### Network Policy
```yaml
ingress:
- ports:
  - protocol: TCP
    port: 5000
  from:
  - namespaceSelector:
      matchLabels:
        name: mindbox-sre-test
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–µ—Ç–µ–≤–æ–≥–æ —Ç—Ä–∞—Ñ–∏–∫–∞
- –ò–∑–æ–ª—è—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

### 7. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**

#### Prometheus –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
```yaml
annotations:
  prometheus.io/scrape: "true"
  prometheus.io/port: "5000"
  prometheus.io/path: "/metrics"
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

#### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **CPU Usage**: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Memory Usage**: –ö–æ–Ω—Ç—Ä–æ–ª—å –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏
- **Request Count**: –ê–Ω–∞–ª–∏–∑ –Ω–∞–≥—Ä—É–∑–∫–∏
- **Custom Metrics**: –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- –ü–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–ª–µ—Ä—Ç–æ–≤
- –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 8. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**

#### Pod Disruption Budget
```yaml
minAvailable: 2  # –í—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω–æ –º–∏–Ω–∏–º—É–º 2 –ø–æ–¥–∞
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –ø–æ–¥–æ–≤
- –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

#### –¢–æ–ª–µ—Ä–∞–Ω—Ü–∏–∏
```yaml
tolerations:
- key: "node-role.kubernetes.io/control-plane"
  operator: "Exists"
  effect: "NoSchedule"
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ**: 
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –Ω–∞ control-plane –Ω–æ–¥–∞—Ö
- –ì–∏–±–∫–æ—Å—Ç—å –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

## üîÑ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –¥–Ω–µ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –Ω–∞–≥—Ä—É–∑–∫–∏

### 1. **HPA –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
- **–ë—ã—Å—Ç—Ä–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–≤–µ—Ä—Ö**: 1 –º–∏–Ω—É—Ç–∞ —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏
- **–ú–µ–¥–ª–µ–Ω–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω–∏–∑**: 5 –º–∏–Ω—É—Ç —Å—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏–∏
- **–ú–∏–Ω–∏–º—É–º 2 –ø–æ–¥–∞**: –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –Ω–æ—á—å—é

### 2. **–†–µ—Å—É—Ä—Å—ã**
- **Requests**: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –¥–ª—è –Ω–æ—á–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
- **Limits**: –î–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ –¥–ª—è –¥–Ω–µ–≤–Ω–æ–≥–æ –ø–∏–∫–∞
- **–ë—É—Ñ–µ—Ä**: 20% –∑–∞–ø–∞—Å –¥–ª—è –Ω–µ–ø—Ä–µ–¥–≤–∏–¥–µ–Ω–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫

### 3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- **–ê–ª–µ—Ä—Ç—ã**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ
- **–ú–µ—Ç—Ä–∏–∫–∏**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤ –Ω–∞–≥—Ä—É–∑–∫–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: HPA –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –∫ –Ω–∞–≥—Ä—É–∑–∫–µ

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### 1. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**
- **SLA**: 99.9% –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- **RTO**: < 5 –º–∏–Ω—É—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- **RPO**: 0 –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö

### 2. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–µ—Å—É—Ä—Å–æ–≤**
- **CPU Utilization**: 70% –≤ –ø–∏–∫–µ, 10% –≤ —Å–ø–æ–∫–æ–π–Ω–æ–µ –≤—Ä–µ–º—è
- **Memory Utilization**: 80% –≤ –ø–∏–∫–µ, 50% –≤ —Å–ø–æ–∫–æ–π–Ω–æ–µ –≤—Ä–µ–º—è
- **Cost Optimization**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

### 3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- **Response Time**: < 100ms –¥–ª—è 95% –∑–∞–ø—Ä–æ—Å–æ–≤
- **Throughput**: –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ 8 –ø–æ–¥–æ–≤
- **Latency**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º—É–ª—å—Ç–∏–∑–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

## üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

### ‚úÖ –ú—É–ª—å—Ç–∏–∑–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä
- Pod Anti-Affinity –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ –∑–æ–Ω–∞–º
- Node Affinity –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
- –¢–æ–ª–µ—Ä–∞–Ω—Ü–∏–∏ –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –í—Ä–µ–º—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ 5-10 —Å–µ–∫—É–Ω–¥
- Startup Probe —Å 100 —Å–µ–∫—É–Ω–¥ –º–∞–∫—Å–∏–º—É–º
- Readiness Probe –ø–æ—Å–ª–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- Liveness Probe –¥–ª—è —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### ‚úÖ 4 –ø–æ–¥–∞ –¥–ª—è –ø–∏–∫–æ–≤–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏
- HPA —Å –º–∞–∫—Å–∏–º—É–º 8 –ø–æ–¥–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Ä–æ–≥–∏

### ‚úÖ –†–µ—Å—É—Ä—Å—ã CPU 0.1, Memory 128M
- Requests: CPU 50m, Memory 64Mi
- Limits: CPU 500m, Memory 256Mi
- Resource Quota –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è

### ‚úÖ –î–Ω–µ–≤–Ω–æ–π —Ü–∏–∫–ª –Ω–∞–≥—Ä—É–∑–∫–∏
- –ë—ã—Å—Ç—Ä–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–≤–µ—Ä—Ö
- –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–Ω–∏–∑
- –ú–∏–Ω–∏–º—É–º 2 –ø–æ–¥–∞ –¥–ª—è –±–∞–∑–æ–≤–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏

### ‚úÖ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
- Pod Disruption Budget
- Rolling Update —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
- Anti-affinity –ø—Ä–∞–≤–∏–ª–∞
- Health checks

### ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- HPA –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ requests/limits
- Resource Quota –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è

## üöÄ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### 1. **Production –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å**
- Security Context
- Network Policy
- RBAC
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### 2. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**
- HPA –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è
- Health checks –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- Rolling updates –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### 3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ú—É–ª—å—Ç–∏–∑–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å –∫ –Ω–∞–≥—Ä—É–∑–∫–µ

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –≤—Å–µ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º –∑–∞–¥–∞–Ω–∏—è:

1. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è**: –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∞–∫—Ç–∏–∫ Kubernetes
2. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–±–æ–µ–≤ —á–µ—Ä–µ–∑ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∑–æ–Ω–∞–º
3. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–µ—Å—É—Ä—Å–æ–≤**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –¥–Ω–µ–≤–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
4. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: Production-ready –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
5. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –ü–æ–ª–Ω–∞—è –≤–∏–¥–∏–º–æ—Å—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
6. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ —á–µ–ª–æ–≤–µ–∫–∞

–†–µ—à–µ–Ω–∏–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≥–ª—É–±–æ–∫–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ SRE –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production —Å—Ä–µ–¥–µ. 